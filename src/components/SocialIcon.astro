---
type Props = {
  href: string;
  label: string;
  external?: boolean;
  class?: string;
};

const { href, label, external = true, class: className = "" } = Astro.props;
---

<a
  class={`social-icon ${className}`}
  href={href}
  aria-label={label}
  title={label}
  {...(external ? { target: "_blank", rel: "noopener noreferrer" } : {})}
>
  <slot />
</a>

<style>
  .social-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;

    width: 40px;
    height: 40px;
    border-radius: 999px;

    color: #e5e7eb;
    opacity: 0.9;

    /* optional "button" feel */
    background: rgba(255, 255, 255, 0.04);
    border: 1px solid rgba(255, 255, 255, 0.08);

    transition: transform 120ms ease, opacity 120ms ease, border-color 120ms ease,
      background 120ms ease;
  }

  .social-icon :global(svg) {
    width: 20px;
    height: 20px;
    stroke: currentColor;
  }

  .social-icon:hover {
    opacity: 1;
    transform: translateY(-1px);
    border-color: rgba(255, 255, 255, 0.18);
    background: rgba(255, 255, 255, 0.06);
  }

  .social-icon:focus-visible {
    outline: 2px solid rgba(99, 102, 241, 0.8);
    outline-offset: 3px;
  }

  @media (prefers-reduced-motion: reduce) {
    .social-icon {
      transition: none;
    }
    .social-icon:hover {
      transform: none;
    }
  }
</style>
