---
const pathname = Astro.url?.pathname ?? "/";
import styles from "./Header.module.scss";

const links = [
  { href: "/projects", label: "Projects" },
  { href: "/resources", label: "Resources" },
];

const about = { href: "/about", label: "About", disabled: true };

const isActive = (href: string) =>
  href === "/" ? pathname === "/" : pathname.startsWith(href);
---

<header class={styles.header}>
  <div class={styles.inner}>
    <a
      href="/"
      class={`${styles.brand} ${isActive("/") ? styles.active : ""}`}
      aria-label="Home"
    >
      Jun Clemente
    </a>

    <nav class={styles.nav} aria-label="Primary">
      {links.map((l) => (
        <a
          href={l.href}
          class={`${styles.link} ${isActive(l.href) ? styles.active : ""}`}
        >
          {l.label}
        </a>
      ))}

      {about.disabled ? (
        <span
          class={`${styles.link} ${styles.disabled ?? ""}`}
          aria-disabled="true"
          title="Coming soon"
        >
          {about.label}
          <span class={styles.soon ?? ""}>Soon</span>
        </span>
      ) : (
        <a
          href={about.href}
          class={`${styles.link} ${isActive(about.href) ? styles.active : ""}`}
        >
          {about.label}
        </a>
      )}
    </nav>
  </div>
</header>
